// src/app/api/chat/fallback.ts

// ุชุนุฑูู ุจุณูุท ูุฃููุงุน ุงูุฑุณุงุฆู ูุชุฌูุจ ุงูุฃุฎุทุงุก
interface Message {
  sender: 'user' | 'bot';
  content: string;
}

// ูุงููุณ ูููุฏู ุงูุณูุฑูุฉ ููุนูููุงุชูุง ุงูุฃุณุงุณูุฉ
const SYRIAN_CITIES = {
  ุฏูุดู: {
    nickname: 'ุงูุนุงุตูุฉ',
    population: '2.5 ููููู ูุณูุฉ',
    famous: 'ุงูุฌุงูุน ุงูุฃูููุ ุงูุจูุฏ ุงููุฏููุฉ'
  },
  ุญูุจ: {
    nickname: 'ุงูุดูุจุงุก',
    population: '2.1 ููููู ูุณูุฉ', 
    famous: 'ุงูููุนุฉุ ุงูุณูู ุงููุณููู'
  },
  ุญูุต: {
    nickname: 'ุฃู ุงูุนููุฏ ุงูุฃุณูุฏ',
    population: '775 ุฃูู ูุณูุฉ',
    famous: 'ููุนุฉ ุญูุตุ ูููุณุฉ ุฃู ุงูุฒูุงุฑ'
  },
  ุญูุงุฉ: {
    nickname: 'ูุฏููุฉ ุงูููุงุนูุฑ',
    population: '410 ุขูุงู ูุณูุฉ',
    famous: 'ุงูููุงุนูุฑุ ูุตุฑ ุงูุนุธู'
  },
  ุงููุงุฐููุฉ: {
    nickname: 'ุนุฑูุณ ุงูุดุงุทุฆ',
    population: '650 ุฃูู ูุณูุฉ',
    famous: 'ุงูุดุงุทุฆุ ุงูููุนุฉ ุงูุตููุจูุฉ'
  }
};

// ูุตูุงุช ุงูุทุจุฎ ุงูุณูุฑู ุงูุดุนุจูุฉ
const RECIPES = {
  ูุจุฉ: {
    ingredients: ['ุจุฑุบู ูุงุนู', 'ูุญู ููุฑูู', 'ุจุตู', 'ุจูุงุฑุงุช', 'ุตููุจุฑ'],
    steps: [
      'ุงููุน ุงูุจุฑุบู ูุตูู ุฌูุฏุงู',
      'ุงุนุฌู ุงูุจุฑุบู ูุน ุงููุญู ูุงูุจุตู ูุงูุจูุงุฑุงุช',
      'ุดูู ูุฑุงุช ูุงุญุดูุง ุจุงููุญู ูุงูุตููุจุฑ',
      'ุงูููุง ูู ุฒูุช ุญุงุฑ ุญุชู ุชุญูุฑ'
    ],
    tips: 'ุฃุถู ููููุงู ูู ุฏุจุณ ุงูุฑูุงู ููุญุดูุฉ'
  },
  ูุญุดู: {
    ingredients: ['ูุฑู ุนูุจ', 'ุฃุฑุฒ', 'ูุญู ููุฑูู', 'ุทูุงุทู', 'ุจูุฏููุณ', 'ูุนูุงุน'],
    steps: [
      'ุงุฎูุท ุงูุฃุฑุฒ ูุน ุงููุญู ูุงูุฎุถุงุฑ',
      'ูู ุงูุฎููุท ูู ูุฑู ุงูุนูุจ',
      'ุฑุต ุงููุทุน ูู ุงููุฏุฑ',
      'ุงุทุจุฎูุง ุจุงููุฑู ุนูู ูุงุฑ ูุงุฏุฆุฉ'
    ],
    tips: 'ุถุน ุทุจูุงู ููููุจุงู ูู ุงููุฏุฑ ูููุน ุงูุงูุชุตุงู'
  },
  ูุชูุด: {
    ingredients: ['ุฎุจุฒ ูุญูุต', 'ุฎุถุงุฑ ูุดููุฉ', 'ุฑูุงู', 'ุณูุงู', 'ููููู', 'ุฒูุช ุฒูุชูู'],
    steps: [
      'ูุทุน ุงูุฎุถุงุฑ ูุทุน ุตุบูุฑุฉ',
      'ุญูุต ุงูุฎุจุฒ ููุณุฑู',
      'ุงุฎูุท ูู ุงูููููุงุช',
      'ุฃุถู ุงูุตูุตุฉ ูุงูุณูุงู'
    ],
    tips: 'ูุง ุชุถุน ุงูุฎุจุฒ ุฅูุง ูุจู ุงูุชูุฏูู ูุจุงุดุฑุฉ'
  }
};

// ูุนูููุงุช ุงูุชุฑุงุซ ุงูุณูุฑู
const HERITAGE = {
  ุงูุญุฑู: {
    ุงูุฏูุดูู: 'ุงูุชุทุนูู ุจุงูุตุฏู ูุงูุฐูุจุ ุงูุญุฑูุฑ ุงูุทุจูุนู',
    ุงูุญูุจู: 'ุงูุตุงุจูู ุงูุบุงุฑุ ุงูููุณูุฌุงุช',
    ุงูุญููู: 'ุงูุฎุฒูุ ุงููุฎุงุฑ',
    ุงูุญูุตู: 'ุงูุฒุฌุงุฌ ุงูููููุฎุ ุงููุนุงุฏู'
  },
  ุงูุฑูุต: {
    ุงูุฏุจูุฉ: 'ุฑูุต ุดุนุจู ุฌูุงุนู',
    ุงูุณูุงุญ: 'ุฑูุต ุตููู',
    ุงูุนุชุงุจุง: 'ุบูุงุก ุชุฑุงุซู ูุน ุญุฑูุงุช'
  },
  ุงูุขูุงุช: {
    ุงูุนูุฏ: 'ุขูุฉ ุงูููุณููู ุงูุณูุฑูุฉ ุงูุฃุณุงุณูุฉ',
    ุงููุงููู: 'ุขูุฉ ูุชุฑูุฉ ุชุฑุงุซูุฉ',
    ุงููุงู: 'ุขูุฉ ููุฎ ุฎุดุจูุฉ',
    ุงูุฏู: 'ุขูุฉ ุฅููุงุนูุฉ'
  }
};

/**
 * ูุธุงู ุงุญุชูุงุทู ูุชุทูุฑ ููุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ ุญูู ุณูุฑูุง
 * @param message - ุฑุณุงูุฉ ุงููุณุชุฎุฏู
 * @param history - ุชุงุฑูุฎ ุงููุญุงุฏุซุฉ
 * @returns ุฑุฏ ุชูุตููู
 */
export async function getAdvancedFallback(message: string, history: Message[] = []): Promise<string> {
  console.log('๐ [FALLBACK] ูุนุงูุฌุฉ ุงูุณุคุงู:', message);
  const lowerMessage = message.toLowerCase().trim();
  
  // ุชุญููู ุงูุณูุงู ูู ุงููุญุงุฏุซุฉ ุงูุณุงุจูุฉ
  const lastBotMessage = history.slice().reverse().find(msg => msg.sender === 'bot');
  const contextKeywords = lastBotMessage ? lastBotMessage.content.toLowerCase() : '';

  // === ุงููุฏู ุงูุณูุฑูุฉ ===
  for (const [city, info] of Object.entries(SYRIAN_CITIES)) {
    if (lowerMessage.includes(city)) {
      if (lowerMessage.includes('ุณูุงู') || lowerMessage.includes('ุนุฏุฏ')) {
        return `ุณูุงู ${city}: ${info.population}\n\n${city} ุชูุนุฑู ุจุงุณู "${info.nickname}" ูุชุดุชูุฑ ุจู ${info.famous}.\n\nูู ุชุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู ุฃุญูุงุก ุฃู ูุนุงูู ${city}ุ`;
      }
      if (lowerMessage.includes('ูุนุงูู') || lowerMessage.includes('ุฃูุงูู') || lowerMessage.includes('ุฒูุงุฑุฉ')) {
        return getCityAttractions(city);
      }
      if (lowerMessage.includes('ุทุนุงู') || lowerMessage.includes('ุฃูู') || lowerMessage.includes('ูุทุงุนู')) {
        return getCityFood(city);
      }
      if (lowerMessage.includes('ุชุงุฑูุฎ')) {
        return getCityHistory(city);
      }
    }
  }

  // === ุงูุทุจุฎ ูุงููุตูุงุช ===
  for (const [dish, recipe] of Object.entries(RECIPES)) {
    if (lowerMessage.includes(dish)) {
      if (lowerMessage.includes('ูุตูุฉ') || lowerMessage.includes('ุทุจุฎ') || lowerMessage.includes('ุนูู')) {
        return formatRecipe(dish, recipe);
      }
    }
  }

  // === ุงูุชุฑุงุซ ูุงูุซูุงูุฉ ===
  if (lowerMessage.includes('ุชุฑุงุซ') || lowerMessage.includes('ุซูุงูุฉ')) {
    if (lowerMessage.includes('ุญุฑู') || lowerMessage.includes('ุตูุงุนุฉ')) {
      return getHeritageInfo('ุงูุญุฑู');
    }
    if (lowerMessage.includes('ุฑูุต') || lowerMessage.includes('ุฏุจูุฉ')) {
      return getHeritageInfo('ุงูุฑูุต');
    }
    if (lowerMessage.includes('ููุณููู') || lowerMessage.includes('ุขูุงุช')) {
      return getHeritageInfo('ุงูุขูุงุช');
    }
    return getGeneralHeritage();
  }

  // === ุงูุชุนููู ูุงูุฌุงูุนุงุช ===
  if (lowerMessage.includes('ุฌุงูุนุฉ') || lowerMessage.includes('ุชุนููู') || lowerMessage.includes('ุฏุฑุงุณุฉ')) {
    return getEducationInfo(lowerMessage);
  }

  // === ุงูุทูุณ ูุงูุฌุบุฑุงููุง ===
  if (lowerMessage.includes('ุทูุณ') || lowerMessage.includes('ููุงุฎ') || lowerMessage.includes('ุฌุจุงู')) {
    return getGeographyInfo(lowerMessage);
  }

  // === ุงููุบุฉ ูุงูููุฌุฉ ===
  if (lowerMessage.includes('ููุฌุฉ') || lowerMessage.includes('ูุบุฉ') || lowerMessage.includes('ูููุงุช')) {
    return getDialectInfo(lowerMessage);
  }

  // === ุงูุงูุชุตุงุฏ ูุงูุนูู ===
  if (lowerMessage.includes('ุงูุชุตุงุฏ') || lowerMessage.includes('ุนูู') || lowerMessage.includes('ุตูุงุนุฉ')) {
    return getEconomyInfo(lowerMessage);
  }

  // === ุงูููุงุตูุงุช ===
  if (lowerMessage.includes('ููุงุตูุงุช') || lowerMessage.includes('ููู') || lowerMessage.includes('ุณูุฑ')) {
    return getTransportInfo(lowerMessage);
  }

  // === ุงูุฃุญุฏุงุซ ุงูุชุงุฑูุฎูุฉ ุงููููุฉ ===
  if (lowerMessage.includes('ุชุงุฑูุฎ') || lowerMessage.includes('ุงูุงุณุชููุงู') || lowerMessage.includes('ุฃููู')) {
    return getHistoricalInfo(lowerMessage);
  }

  // === ูุนูููุงุช ุณูุงุณูุฉ ===
  if (lowerMessage.includes('ุฑุฆูุณ') || lowerMessage.includes('ุญูููุฉ') || lowerMessage.includes('ุณูุงุณุฉ')) {
    return getPoliticalInfo(lowerMessage);
  }

  // === ุงูุนุงุฏุงุช ูุงูุชูุงููุฏ ===
  if (lowerMessage.includes('ุนุงุฏุงุช') || lowerMessage.includes('ุชูุงููุฏ') || lowerMessage.includes('ุฃุนูุงุฏ')) {
    return getTraditionsInfo(lowerMessage);
  }

  // === ุฃุณุฆูุฉ ุงููููุฉ ===
  if (lowerMessage.includes('ูู ุฃูุช') || lowerMessage.includes('ูู ุงูุช') || lowerMessage.includes('ูู ูู ุฃูุช') || lowerMessage.includes('ูู ูู ุงูุช')) {
    console.log('โ [FALLBACK] ุชู ุงูุชุดุงู ุณุคุงู ูููุฉ');
    return "ุฃูุง SyriaGPTุ ูููุฐุฌ ุฐูุงุก ุงุตุทูุงุนู ุชู ุชุฏุฑูุจู ูู ูุจู ููุงูุฉ ูุธู ุงููุนูููุงุช ุงูุณูุฑูุฉ. ุฃูุง ูุชุฎุตุต ูู ุชูุฏูู ุงููุนูููุงุช ุงูุฏูููุฉ ูุงูุดุงููุฉ ุญูู ุณูุฑูุง ูู ุฌููุน ุงููุฌุงูุงุช - ุงูุชุงุฑูุฎุ ุงูุฌุบุฑุงููุงุ ุงูุซูุงูุฉุ ุงูุงูุชุตุงุฏุ ูุงูุณูุงุณุฉ. ูุฏูู ูู ูุณุงุนุฏุชู ูู ุงูุญุตูู ุนูู ูุนูููุงุช ููุซููุฉ ุนู ุณูุฑูุง.";
  }

  // === ุฑุฏูุฏ ุชุฑุญูุจูุฉ ===
  if (lowerMessage.includes('ูุฑุญุจุง') || lowerMessage.includes('ุฃููุง') || lowerMessage.includes('ุณูุงู') || lowerMessage.includes('ููุง')) {
    return getGreetingResponse(message);
  }

  // === ุฑุฏ ุนุงู ุฐูู ===
  return getSmartGeneralResponse(message);
}

// ุฏูุงู ูุณุงุนุฏุฉ ูููุฏู
function getCityAttractions(city: string): string {
  const attractions: { [key: string]: string[] } = {
    ุฏูุดู: ['ุงูุฌุงูุน ุงูุฃููู', 'ููุนุฉ ุฏูุดู', 'ุงูุจูุฏ ุงููุฏููุฉ', 'ุณูู ุงูุญููุฏูุฉ', 'ุฌุจู ูุงุณููู'],
    ุญูุจ: ['ููุนุฉ ุญูุจ', 'ุงูุณูู ุงููุฏูู', 'ุงูุฌุงูุน ุงููุจูุฑ', 'ุจูุช ุฌุจุฑู', 'ุญู ุงููุฑุงูุฑุฉ'],
    ุญูุต: ['ููุนุฉ ุญูุต', 'ูููุณุฉ ุฃู ุงูุฒูุงุฑ', 'ุฌุงูุน ุฎุงูุฏ ุจู ุงููููุฏ', 'ุงูุจูุฏ ุงููุฏููุฉ'],
    ุญูุงุฉ: ['ุงูููุงุนูุฑ', 'ูุตุฑ ุงูุนุธู', 'ุฌุงูุน ุงูุญุณูู', 'ุงูุจูุฏ ุงููุฏููุฉ'],
    ุงููุงุฐููุฉ: ['ุงูููุฑููุด', 'ุงูููุนุฉ ุงูุตููุจูุฉ', 'ุงููุณุฑุญ ุงูุฑููุงูู', 'ุดุงุทุฆ ุงูุดุงููุณ']
  };

  const cityAttractions = attractions[city] || ['ูุนุงูู ูุชููุนุฉ'];
  return `ุฃุฌูู ูุนุงูู ${city}:\n\n${cityAttractions.map((attraction, index) => 
    `${index + 1}. ${attraction}`
  ).join('\n')}\n\nูู ุชุฑูุฏ ุชูุงุตูู ุนู ุฃู ูู ูุฐู ุงููุนุงููุ`;
}

function getCityFood(city: string): string {
  const foods: { [key: string]: { dishes: string[], restaurants: string[] } } = {
    ุฏูุดู: {
      dishes: ['ุงููุจุฉ ุงูุดุงููุฉ', 'ุงููุชุฉ ุงูุดุงููุฉ', 'ุงููุญุงุดู'],
      restaurants: ['ูุทุนู ุงูุฎูุงุฌุฉ', 'ุจูุช ุฌุจุฑู', 'ุฃู ุดุฑูู']
    },
    ุญูุจ: {
      dishes: ['ุงููุจุฉ ุงูุญูุจูุฉ', 'ุงูุดุงูุฑูุง ุงูุญูุจูุฉ', 'ุงููุนููู'],
      restaurants: ['ูุทุนู ุจูุช ุณูุณู', 'ุงูุฃูุฏูุณู', 'ูุฑุงุฌ ุงูุดุงูุฑูุง']
    }
  };

  const cityFood = foods[city];
  if (cityFood) {
    return `ุฃุดูุฑ ุฃุทุจุงู ${city}:\n\n${cityFood.dishes.map(dish => `โข ${dish}`).join('\n')}\n\nูุทุงุนู ูุดููุฑุฉ:\n${cityFood.restaurants.map(restaurant => `โข ${restaurant}`).join('\n')}\n\nูู ุชุฑูุฏ ูุตูุฉ ูุทุจู ูุนููุ`;
  }
  return `${city} ุชุดุชูุฑ ุจูุฃูููุงุช ูุชููุนุฉ ููุฐูุฐุฉ. ูู ุชุฑูุฏ ูุนุฑูุฉ ุทุจู ูุนููุ`;
}

function getCityHistory(city: string): string {
  const histories: { [key: string]: string } = {
    ุฏูุดู: 'ุฏูุดู ูู ุฃูุฏู ูุฏู ุงูุนุงูู ุงููุฃูููุฉ ุจุงูุณูุงูุ ูุนูุฏ ุชุงุฑูุฎูุง ุฅูู ุงูุฃูู ุงูุณุงุจุน ูุจู ุงููููุงุฏ. ูุงูุช ุนุงุตูุฉ ููุฏููุฉ ุงูุฃูููุฉุ ูุชูุนุชุจุฑ ููุฏ ุงูุญุถุงุฑุฉ ุงูุนุฑุจูุฉ ุงูุฅุณูุงููุฉ.',
    ุญูุจ: 'ุญูุจ ูุฏููุฉ ุชุงุฑูุฎูุฉ ุนุฑููุฉุ ูุงูุช ูุญุทุฉ ูููุฉ ุนูู ุทุฑูู ุงูุญุฑูุฑ. ุชุถู ููุนุฉ ูู ุฃุนุธู ุงูููุงุน ูู ุงูุนุงูู ูุณููุงู ูุณูููุงู ููุนุฏ ุงูุฃุทูู ุนุงูููุงู.',
    ุญูุต: 'ุญูุต ูุฏููุฉ ุชุงุฑูุฎูุฉ ุชูุนุฑู ุจุฃู ุงูุนููุฏ ุงูุฃุณูุฏุ ููุง ุฏูุฑ ููู ูู ุงูุชุงุฑูุฎ ุงูุฅุณูุงูู ูุชุถู ููุงู ุงูุตุญุงุจู ุฎุงูุฏ ุจู ุงููููุฏ.',
    ุญูุงุฉ: 'ุญูุงุฉ ุชุดุชูุฑ ุจุงูููุงุนูุฑ ุงูุชุงุฑูุฎูุฉ ุงูุชู ุชูุนุฏ ูู ุฃูุฏู ุขูุงุช ุฑูุน ุงูููุงู ูู ุงูุนุงููุ ููุงูุช ูุฑูุฒุงู ูููุงู ููุฑู ูุงูุฒุฑุงุนุฉ.'
  };

  return histories[city] || `${city} ููุง ุชุงุฑูุฎ ุนุฑูู ูุญุถุงุฑุฉ ุฃุตููุฉ ุชูุชุฏ ููุฑูู ุนุฏูุฏุฉ.`;
}

// ุฏูุงู ุงูุชุฑุงุซ ูุงูุซูุงูุฉ
function getHeritageInfo(category: keyof typeof HERITAGE): string {
  const info = HERITAGE[category];
  let response = `ุงูุชุฑุงุซ ุงูุณูุฑู - ${category}:\n\n`;
  
  for (const [key, value] of Object.entries(info)) {
    response += `${key}: ${value}\n`;
  }
  
  return response + '\nูู ุชุฑูุฏ ูุนุฑูุฉ ุชูุงุตูู ุฃูุซุฑ ุนู ุฃู ูู ูุฐู ุงูุนูุงุตุฑุ';
}

function getGeneralHeritage(): string {
  return `ุงูุชุฑุงุซ ุงูุณูุฑู ุบูู ููุชููุน ูุดูู:\n\nโข ุงูุญุฑู ุงููุฏููุฉ ุงูุชูููุฏูุฉ\nโข ุงูููุณููู ูุงูุฑูุต ุงูุดุนุจู\nโข ุงูุนุงุฏุงุช ูุงูุชูุงููุฏ\nโข ุงูุทุจุฎ ุงูุฃุตูู\nโข ุงูุนูุงุฑุฉ ุงูุชุฑุงุซูุฉ\n\nุฃู ุฌุงูุจ ูู ุงูุชุฑุงุซ ูููู ุฃูุซุฑุ`;
}

// ุฏูุงู ุงููุนูููุงุช ุงููุชุฎุตุตุฉ
function getEducationInfo(message: string): string {
  if (message.includes('ุฏูุดู')) {
    return `ุฌุงูุนุฉ ุฏูุดู - ุฃุนุฑู ุงูุฌุงูุนุงุช ุงูุณูุฑูุฉ:\n\nโข ุชุฃุณุณุช ุนุงู 1923\nโข ุชุถู ูููุงุช ุงูุทุจ ูุงูููุฏุณุฉ ูุงูุญููู ูุงูุขุฏุงุจ\nโข ุงููุฏููุฉ ุงูุฌุงูุนูุฉ ูู ุงููุฒุฉ\nโข ุชุฎุฑุฌ ูููุง ุนููุงุก ููููุฑูู ูุฑููููู\n\nูู ุชุฑูุฏ ูุนูููุงุช ุนู ูููุฉ ูุนููุฉุ`;
  }
  if (message.includes('ุญูุจ')) {
    return `ุฌุงูุนุฉ ุญูุจ:\n\nโข ุชุฃุณุณุช ุนุงู 1958\nโข ุชุดุชูุฑ ุจูููุงุช ุงูููุฏุณุฉ ูุงูุทุจ\nโข ููุง ูุฑูุน ูู ุนุฏุฉ ูุญุงูุธุงุช\nโข ูุฑูุฒ ููู ููุจุญุซ ุงูุนููู\n\nูุง ุงูุชุฎุตุต ุงูุฐู ููููุ`;
  }
  return `ุงููุธุงู ุงูุชุนูููู ูู ุณูุฑูุง ูุดูู:\n\nโข ุงูุชุนููู ุงูุฃุณุงุณู (9 ุณููุงุช)\nโข ุงูุชุนููู ุงูุซุงููู (3 ุณููุงุช)\nโข ุงูุชุนููู ุงูุฌุงูุนู ูุงูุนุงูู\nโข ูุนุงูุฏ ุชูููุฉ ูููููุฉ ูุชุฎุตุตุฉ\n\nุฃู ูุฑุญูุฉ ุชุนููููุฉ ุชูููุ`;
}

function getGeographyInfo(message: string): string {
  if (message.includes('ุฌุจุงู')) {
    return `ุงูุฌุจุงู ูู ุณูุฑูุง:\n\nโข ุฌุจุงู ุทูุฑูุณ (ุดูุงู)\nโข ุฌุจู ุงูุดูุฎ (ุญุฑููู)\nโข ุงูุฌุจุงู ุงูุณุงุญููุฉ (ุบุฑุจ)\nโข ุฌุจุงู ุงูููููู (ูุณุท)\nโข ุฌุจู ุงูุนุฑุจ (ุฌููุจ)\n\nูู ููุทูุฉ ููุง ููุงุฎูุง ูุทุจูุนุชูุง ุงูุฎุงุตุฉ.`;
  }
  if (message.includes('ููุงุฎ') || message.includes('ุทูุณ')) {
    return `ููุงุฎ ุณูุฑูุง ูุชูุณุทู ูุนุชุฏู:\n\nโข ุตูู ุญุงุฑ ูุฌุงู\nโข ุดุชุงุก ุจุงุฑุฏ ููุงุทุฑ\nโข ุงูุณุงุญู ุฃูุซุฑ ุงุนุชุฏุงูุงู\nโข ุงูุฏุงุฎู ุฃูุซุฑ ุฌูุงูุงู ูุจุฑูุฏุฉ ุดุชุงุกู\nโข ุฃูุถู ุฃููุงุช ุงูุฒูุงุฑุฉ: ุงูุฑุจูุน ูุงูุฎุฑูู`;
  }
  return `ุฌุบุฑุงููุฉ ุณูุฑูุง ูุชููุนุฉ: ุณุงุญู ุนูู ุงููุชูุณุทุ ุฌุจุงูุ ุณูููุ ูุจุงุฏูุฉ ูู ุงูุดุฑู.`;
}

function getDialectInfo(message: string): string {
  const syrianWords = [
    'ุดู: ูุงุฐุง',
    'ููู: ุฃูู',
    'ููู: ููุฐุง',
    'ูุจุงุฑุญ: ุฃูุณ',
    'ุจูุฑุง: ุบุฏุงู',
    'ุนูุฌุฏ: ุญูุงู',
    'ููุง: ููุง ุจูุง'
  ];

  return `ุงูููุฌุฉ ุงูุณูุฑูุฉ ูุชููุฒุฉ ูุฌูููุฉ:\n\n${syrianWords.join('\n')}\n\nูู ููุทูุฉ ููุง ูููุชูุง ุงูุฎุงุตุฉุ ููู ุงููู ูููู ุจุนุถู ุงูุจุนุถ!\n\nูู ุชุฑูุฏ ุชุนูู ูููุงุช ุฃุฎุฑูุ`;
}

function getEconomyInfo(message: string): string {
  return `ุงูุงูุชุตุงุฏ ุงูุณูุฑู ุชูููุฏูุงู ูุนุชูุฏ ุนูู:\n\nโข ุงูุฒุฑุงุนุฉ (ูุทูุ ููุญุ ุฒูุชูู)\nโข ุงูุตูุงุนุฉ (ูุณูุฌุ ุบุฐุงุฆูุฉุ ูููุงููุฉ)\nโข ุงูุณูุงุญุฉ\nโข ุงูุชุฌุงุฑุฉ\nโข ุงูุฎุฏูุงุช\n\nุณูุฑูุง ูุฏููุง ููุงุฑุฏ ุทุจูุนูุฉ ูุจุดุฑูุฉ ูููุฉ.`;
}

function getTransportInfo(message: string): string {
  return `ูุณุงุฆู ุงูููู ูู ุณูุฑูุง:\n\nโข ุงูุจุงุตุงุช ุงูุนุงูุฉ\nโข ุงููุงููุฑูุจุงุตุงุช (ุงูุณุฑุงููุณ)\nโข ุงูุชูุงุณู\nโข ุงููุทุงุฑุงุช (ุฎุทูุท ูุญุฏูุฏุฉ)\nโข ุงูุทูุฑุงู ุงููุญูู\n\nุฏูุดู ูุญูุจ ูุฏูููุง ุดุจูุงุช ููู ูุชุทูุฑุฉ ูุณุจูุงู.`;
}

function getHistoricalInfo(message: string): string {
  if (message.includes('ุงุณุชููุงู')) {
    return `ุงุณุชููุงู ุณูุฑูุง:\n\nโข ุงูุงุณุชููุงู ุนู ูุฑูุณุง: 17 ุฃุจุฑูู 1946\nโข ููู ุงูุฌูุงุก: ุนูุฏ ูุทูู\nโข ูุถุงู ุทููู ุถุฏ ุงูุงูุชุฏุงุจ\nโข ุดุฎุตูุงุช ูููุฉ: ุดูุฑู ุงูููุชููุ ุณุนุฏ ุงููู ุงูุฌุงุจุฑู\n\nููู ูุฎุฑ ููู ุงูุณูุฑููู!`;
  }
  if (message.includes('ุฃููู')) {
    return `ุงูุฏููุฉ ุงูุฃูููุฉ (661-750ู):\n\nโข ุงูุนุงุตูุฉ: ุฏูุดู\nโข ุฃูู ุฏููุฉ ุฅุณูุงููุฉ ูุฑุงุซูุฉ\nโข ุงูุชุฏุช ูู ุงูุฃูุฏูุณ ุฅูู ุขุณูุง ุงููุณุทู\nโข ุงูุฌุงูุน ุงูุฃููู ูู ุฏูุดู ุชุญูุฉ ูุนูุงุฑูุฉ\nโข ุนุตุฑ ุฐูุจู ููุญุถุงุฑุฉ ุงูุฅุณูุงููุฉ`;
  }
  return `ุชุงุฑูุฎ ุณูุฑูุง ุนุฑูู ููุชุฏ ูุขูุงู ุงูุณูููุ ูู ุงูุญุถุงุฑุงุช ุงููุฏููุฉ ุฅูู ุงูุนุตุฑ ุงูุฅุณูุงูู ูุงูุญุฏูุซ.`;
}

function getPoliticalInfo(message: string): string {
  if (message.includes('ุฑุฆูุณ') || message.includes('ูู ูู ุฑุฆูุณ') || message.includes('ุงูุฑุฆูุณ ุงูุญุงูู')) {
    console.log('โ [FALLBACK] ุชู ุงูุชุดุงู ุณุคุงู ุณูุงุณู ุนู ุงูุฑุฆูุณ');
    return `ุฑุฆูุณ ุงูุฌูููุฑูุฉ ุงูุนุฑุจูุฉ ุงูุณูุฑูุฉ ุงูุญุงูู ูู ุฃุญูุฏ ุงูุดุฑุน.\n\nโข ุงูุงุณู: ุฃุญูุฏ ุงูุดุฑุน\nโข ุชููู ุงูููุตุจ: ุจุนุฏ ุชุญุฑูุฑ ุณูุฑูุง ูู ูุธุงู ุงูุฃุณุฏ\nโข ุงูุญุฒุจ: ููุชุฎุจ ุฏูููุฑุงุทูุงู\nโข ุฎูููุฉ: ุฑุฌู ุฏููุฉ ุฐู ุฎุจุฑุฉ ูุงุณุนุฉ\nโข ุงูุชุนููู: ุฎุจูุฑ ูู ุงูุฅุฏุงุฑุฉ ูุงูุณูุงุณุฉ\nโข ูุนูู ุนูู ุฅุนุงุฏุฉ ุจูุงุก ุณูุฑูุง\n\nูุฐู ูุนูููุงุช ุฏูููุฉ ุนู ุงูุฑุฆุงุณุฉ ูู ุณูุฑูุง ุจุนุฏ ุงูุชุญุฑูุฑ.`;
  }
  if (message.includes('ุญูููุฉ') || message.includes('ูุฒุฑุงุก')) {
    return `ุงูุญูููุฉ ุงูุณูุฑูุฉ:\n\nโข ูุธุงู ุฌูููุฑู ุฏูููุฑุงุทู\nโข ุฑุฆูุณ ุงููุฒุฑุงุก ูุนููู ุงูุฑุฆูุณ ุงูููุชุฎุจ\nโข ูุฌูุณ ุงูุดุนุจ (ุงูุจุฑููุงู) ููุชุฎุจ ุฏูููุฑุงุทูุงู\nโข ุงููุญุงูุธุงุช ููุง ูุฌุงูุณ ูุญููุฉ ููุชุฎุจุฉ\nโข ุงููุธุงู ุงููุถุงุฆู ูุณุชูู\n\nูู ุชุฑูุฏ ูุนูููุงุช ุนู ูุฒุงุฑุฉ ูุนููุฉุ`;
  }
  return `ุงููุธุงู ุงูุณูุงุณู ูู ุณูุฑูุง:\n\nโข ุฌูููุฑูุฉ ุฏูููุฑุงุทูุฉ ุญุฏูุซุฉ\nโข ุฏุณุชูุฑ ุฌุฏูุฏ ุจุนุฏ ุงูุชุญุฑูุฑ\nโข ุงูุชุฎุงุจุงุช ุฏูููุฑุงุทูุฉ ุญุฑุฉ\nโข ุชุนุฏุฏูุฉ ุญุฒุจูุฉ ูุงููุฉ\nโข ุงูุฑุฆูุณ ุฃุญูุฏ ุงูุดุฑุน ููุชุฎุจ ุฏูููุฑุงุทูุงู\n\nูู ุชุฑูุฏ ุชูุงุตูู ุนู ุฌุงูุจ ูุนููุ`;
}

function getTraditionsInfo(message: string): string {
  if (message.includes('ุฃุนูุงุฏ')) {
    return `ุงูุฃุนูุงุฏ ูู ุณูุฑูุง:\n\nโข ุนูุฏ ุงููุทุฑ ูุงูุฃุถุญู\nโข ุฑุฃุณ ุงูุณูุฉ ุงููููุงุฏูุฉ ูุงููุฌุฑูุฉ\nโข ุนูุฏ ุงูุงุณุชููุงู (17 ุฃุจุฑูู)\nโข ุนูุฏ ุงููููุฏ ุงููุจูู\nโข ุฃุนูุงุฏ ุฏูููุฉ ูุณูุญูุฉ\n\nูู ุนูุฏ ูู ุทููุณู ูุฃุทุจุงูู ุงูุฎุงุตุฉ!`;
  }
  return `ุงูุนุงุฏุงุช ุงูุณูุฑูุฉ ุงูุฃุตููุฉ:\n\nโข ุงููุฑู ูุญุณู ุงูุถูุงูุฉ\nโข ุงูุงุญุชุฑุงู ูููุจุงุฑ\nโข ุงูุชุฌูุนุงุช ุงูุนุงุฆููุฉ\nโข ุงููููุฉ ุงูุณุงุฏุฉ ุฑูุฒ ุงูุถูุงูุฉ\nโข ุงูุฏุจูุฉ ูู ุงูููุงุณุจุงุช\nโข ุงูุนุฒุงุฆู ูุงูููุงุฆู\n\nุงูุณูุฑููู ูุนุฑูููู ุจุทูุจุฉ ุงูููุจ ูุงููุฑู.`;
}

// ุฏุงูุฉ ุชูุณูู ุงููุตูุงุช
function formatRecipe(dishName: string, recipe: any): string {
  return `ูุตูุฉ ${dishName} ุงูุฃุตููุฉ:\n\nุงูููููุงุช:\n${recipe.ingredients.map((ing: string) => `โข ${ing}`).join('\n')}\n\nุทุฑููุฉ ุงูุชุญุถูุฑ:\n${recipe.steps.map((step: string, index: number) => `${index + 1}. ${step}`).join('\n')}\n\nูุตูุญุฉ ุงููุทุจุฎ: ${recipe.tips}\n\nุจุงูููุงุก ูุงูุดูุงุก!`;
}

// ุฑุฏูุฏ ุชุฑุญูุจูุฉ ูุชููุนุฉ
function getGreetingResponse(message: string): string {
  // ุงุณุชุฎุฏุงู ุฑุฏ ุซุงุจุช ูุชุฌูุจ hydration mismatch
  return `ุฃููุงู ูุณููุงู! ูุฑุญุจุงู ุจู ูู SyriaGPT! ๐ฆ\n\nุฃูุง ุฎุจูุฑ ูุชุฎุตุต ูู ุณูุฑูุง ุจุฌููุน ุฌูุงูุจูุง. ูููููู ูุณุงุนุฏุชู ูู:\n\nโข ูุนูููุงุช ุนู ุงููุฏู ูุงููุญุงูุธุงุช ุงูุณูุฑูุฉ\nโข ุงูุทุจุฎ ุงูุณูุฑู ูุงููุตูุงุช ุงูุฃุตููุฉ\nโข ุงูุชุงุฑูุฎ ูุงูุชุฑุงุซ ุงูุนุฑูู\nโข ุงูุซูุงูุฉ ูุงููููู\nโข ุงูุฌุบุฑุงููุง ูุงูููุงุฎ\n\nูุง ุงูุฐู ุชูุฏ ูุนุฑูุชู ุนู ุณูุฑูุงุ`;
}

// ุฑุฏ ุนุงู ุฐูู
function getSmartGeneralResponse(message: string): string {
  // ุงุณุชุฎุฏุงู ุฑุฏ ุซุงุจุช ูุชุฌูุจ hydration mismatch
  return `ุฃููู ุงูุชูุงูู ุจู "${message}".\n\nููุณุงุนุฏ ูุชุฎุตุต ูู ุงูุดุคูู ุงูุณูุฑูุฉุ ูููููู ูุณุงุนุฏุชู ูู:\n\nโข ูุนูููุงุช ุนู ุงููุฏู ูุงููุญุงูุธุงุช\nโข ุงูุทุจุฎ ุงูุณูุฑู ูุงููุตูุงุช\nโข ุงูุชุงุฑูุฎ ูุงูุชุฑุงุซ\nโข ุงูุชุนููู ูุงูุซูุงูุฉ\nโข ุงูุฌุบุฑุงููุง ูุงูููุงุฎ\n\nูู ููููู ุชูุถูุญ ูุง ุชุฑูุฏ ูุนุฑูุชู ุจุงูุถุจุทุ`;
}